<div class="uk-container uk-text-center">

  <span>Find  the  total  requests  per  type  that  were  created  within  a  specified  time  range  and  sort
  them in a descending order.</span>
  <form [formGroup]="requestForm" class="uk-form uk-margin">
    <label class="uk-margin-right" for="fromDate">From date:</label>
    <input id="fromDate" type="date" formControlName="fromDate">
    <label class="uk-margin-right uk-margin-left" for="toDate">To date:</label>
    <input id="toDate" type="date" formControlName="toDate">
    <button class="uk-button-primary uk-margin-left" (click)="submitRequest()">Search</button>

    <div *ngIf="errorMessage" class="uk-align-center uk-width-1-3@m uk-alert uk-alert-danger">
      <!--<button class="uk-alert-close" (click)="removeAlert()" uk-close></button>-->
      <a class="uk-alert-close" uk-close></a>
      <p>{{errorMessage}}</p>
    </div>

    <div class="uk-margin-top" *ngIf="results && results.length > 0">
      <table class="uk-table uk-table-small uk-table-striped uk-text-center">
        <thead>
        <tr class="uk-text-center">
          <th class="uk-width-medium uk-text-center">request type</th>
          <th class="uk-width-small uk-text-center">count</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let result of results">
          <td>{{result[0]}}</td>
          <td>{{result[1]}}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </form>
  <div *ngIf="loading" class="uk-overlay-default uk-position-cover"></div>
  <div *ngIf="loading" class="uk-overlay uk-dark">
    <div class="uk-position-center" uk-spinner="ratio: 3"></div>
  </div>

  <div class="uk-margin-top" *ngIf="results && results.length === 0">
    <span>No results were found for this input</span>
  </div>

</div>
